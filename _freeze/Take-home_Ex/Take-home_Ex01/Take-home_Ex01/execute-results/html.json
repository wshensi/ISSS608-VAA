{
  "hash": "24fcd027fc9ed7c6cd14ce8509156488",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Take-home Exercise 1\"\ndescription: \"\"\ndate: \"May 02, 2025\"\ndate-modified: \"May 04, 2025\"\nformat: html\nauthor: \"Wang Shen Si\"\neditor: visual\nexecute: \n  eval: true\n  echo: true\n  warning: false\n  freeze: true\n---\n\n\n\n# Introduction\n\n## Background\n\nSingapore is a densely populated and urbanized country where population distribution varies significantly across regions and age groups. Understanding these differences is critical for effective urban planning, resource allocation, and policy design.\n\n## Objectives\n\nThis take-home exercise aims to explore Singapore’s population distribution using 2024 census data. The specific objectives are:\n\n-   To analyze the age structure across different planning areas.\n\n-   To examine gender ratios by region and age.\n\n-   To identify areas with a higher concentration of young or elderly populations.\n\n# Getting Started\n\n## Tools Used\n\nThe following R packages were used to support the data wrangling and visualization:\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(gifski, gapminder, plotly, gganimate, tidyverse, ggiraph, DT, \n               ggridges, patchwork, ggstatsplot, GGally, corrplot)\n```\n:::\n\n\n\n-   **tidyverse**: Data manipulation and plotting\n\n-   **ggthemes**: Additional themes for ggplot2\n\n-   **ggridges**: Ridge plots for age distribution\n\n-   **patchwork**: Layout manager for combining multiple plots\n\n-   **ggstatsplot**: Adds statistical results to plots\n\n-   **GGally**: Visualizing multiple variables at once\n\n-   **corrplot**: Correlation matrix visualizations\n\n## Data Source\n\nThe dataset used is sourced from the Department of Statistics Singapore, which includes the following fields:\n\n-   `PA`: Planning Area\n-   `SZ`: Subzone\n-   `Age`: Age (0–100+)\n-   `Sex`: Gender (Males / Females)\n-   `Pop`: Number of residents\n-   `Time`: Year (all 2024)\n\n# Data Wrangling\n\n## Import Data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrespop <- read_csv(\"data/respopagesex2024.csv\")\n```\n:::\n\n\n\n![](image/image1.png)\n\n## Data Cleaning\n\nTo ensure the dataset is clean and ready for analysis, the following steps were performed:\n\n### Step 1: Remove Duplicates\n\nRemove any duplicated rows to avoid double-counting:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrespop <- distinct(respop)\n```\n:::\n\n\n\n### Step 2: Handle Missing Values\n\nEnsure there are no missing or malformed entries in critical columns:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrespop <- drop_na(respop)\n```\n:::\n\n\n\n### Step 3: Standardize Age Format\n\nThe `Age` column includes a non-numeric category `\"90_and_Over\"` which cannot be coerced into an integer. We convert this category into a numeric age of **90**, representing a minimum estimate for analysis:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrespop <- respop %>%\n  mutate(Age = ifelse(Age == \"90_and_Over\", \"90\", Age),\n         Age = as.integer(Age))\n```\n:::\n\n\n\n::: callout-note\nThis allows us to include elderly population data in age-based analyses such as population pyramids and dependency ratios.\n:::\n\n### Step 4: Convert Column Types\n\nEnsure categorical and numeric columns are properly formatted:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrespop <- respop %>%\n  mutate(\n    Sex = as.factor(Sex),\n    PA = as.factor(PA),\n    SZ = as.factor(SZ))\n```\n:::\n\n\n\n# Exploratory Data Analysis (EDA)\n\nThis section explores Singapore’s 2024 resident population by analyzing age structure, gender ratios, and population distribution across planning areas.\n\n## Age Distribution by Planning Area\n\nWe examine how age is distributed across different planning areas. This helps identify regions with high concentrations of children, working-age adults, or the elderly.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrespop %>%\n  filter(Age <= 100) %>%\n  group_by(PA, Age) %>%\n  summarise(Total = sum(Pop), .groups = \"drop\") %>%\n  ggplot(aes(x = Age, y = Total)) +\n  geom_area(fill = \"#69b3a2\", alpha = 0.8) +\n  facet_wrap(~ PA, scales = \"free_y\") +\n  theme_minimal() +\n  labs(title = \"Age Distribution by Planning Area\",\n       x = \"Age\",\n       y = \"Total Population\")\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\n::: callout-note\n## Interpretation\n\nThis visualization reveals population aging trends, youth concentration zones, and demographic imbalances across urban zones.\n:::\n\n## Population Pyramid of Selected Planning Area\n\nTo better understand demographic composition, we plot a **population pyramid** for a selected planning area (e.g., *Bedok*).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrespop %>%\n  filter(PA == \"Bedok\") %>%\n  mutate(Pop = ifelse(Sex == \"Males\", -Pop, Pop)) %>%\n  ggplot(aes(x = Age, y = Pop, fill = Sex)) +\n  geom_bar(stat = \"identity\") +\n  coord_flip() +\n  scale_y_continuous(labels = abs) +\n  scale_fill_manual(values = c(\"Males\" = \"#1f77b4\", \"Females\" = \"#ff7f0e\")) +\n  theme_minimal() +\n  labs(title = \"Population Pyramid of Bedok (2024)\",\n       x = \"Age\",\n       y = \"Population\",\n       fill = \"Sex\")\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n\n::: callout-note\n## Interpretation\n\nA balanced pyramid indicates demographic stability, while irregular shapes may signal aging or youth dominance.\n:::\n\n## Gender Ratio by Planning Area\n\nThis analysis identifies whether males or females dominate in specific regions by calculating the male-to-female ratio.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngender_ratio <- respop %>%\n  group_by(PA, Sex) %>%\n  summarise(Total = sum(Pop), .groups = \"drop\") %>%\n  pivot_wider(names_from = Sex, values_from = Total) %>%\n  mutate(Ratio = Males / Females)\n\nggplot(gender_ratio, aes(x = reorder(PA, Ratio), y = Ratio)) +\n  geom_col(fill = \"steelblue\") +\n  geom_hline(yintercept = 1, linetype = \"dashed\", color = \"red\") +\n  coord_flip() +\n  theme_minimal() +\n  labs(title = \"Male-to-Female Ratio by Planning Area\",\n       x = \"Planning Area\",\n       y = \"Ratio (M/F)\")\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n\n::: callout-note\n## Interpretation\n\nRatios significantly above or below 1 indicate gender imbalance, which may affect planning for education, healthcare, or housing.\n:::\n\n## Total Population by Planning Area\n\nThis chart shows which regions are most densely populated.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrespop %>%\n  group_by(PA) %>%\n  summarise(Total_Pop = sum(Pop), .groups = \"drop\") %>%\n  ggplot(aes(x = reorder(PA, Total_Pop), y = Total_Pop)) +\n  geom_col(fill = \"#2ca02c\") +\n  coord_flip() +\n  theme_minimal() +\n  labs(title = \"Total Population by Planning Area (2024)\",\n       x = \"Planning Area\",\n       y = \"Total Population\")\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n\n::: callout-note\n## Interpretation\n\nThis helps highlight urban hotspots and areas requiring infrastructure support.\n:::\n\n# Summary\n\nThis analysis explored the 2024 Singapore resident population from multiple angles:\n\n-   **Age Distribution**:\\\n    Planning areas such as *Tampines*, *Punggol*, and *Sengkang* exhibited a relatively young population profile, while areas like *Bukit Timah* and *Queenstown* displayed a heavier concentration of elderly residents.\n-   **Gender Ratio**:\\\n    Most planning areas maintained a gender ratio close to parity. However, certain deviations suggest localized gender imbalances, potentially influenced by housing, migration, or economic factors.\n-   **Population Pyramid**:\\\n    The age-gender structure of *Bedok* revealed a well-distributed demographic, with noticeable shrinkage at younger ages, possibly reflecting lower birth rates.\n-   **Population Size by Region**:\\\n    Central areas such as *Jurong West*, *Tampines*, and *Woodlands* registered the highest total populations, indicating demand for robust infrastructure and public services.\n\n# Conclusion and Future Work\n\n## Conclusion\n\nThis take-home exercise demonstrates how census microdata can be used to uncover meaningful insights into demographic distribution and structure. Understanding the **spatial and structural composition of residents** aids in planning for services such as education, eldercare, and transportation.\n\n## Future Work\n\n-   **Temporal Analysis**:\\\n    Integrating time series data (e.g., from 2014 to 2024) would reveal trends such as aging, migration, or urbanization effects.\n-   **Geospatial Mapping**:\\\n    Coupling this dataset with GIS spatial boundaries could produce population heatmaps and allow deeper spatial analysis.\n-   **Socioeconomic Enrichment**:\\\n    Adding income, housing type, or employment data could support more targeted policy design.\n-   **Dependency Ratio Estimation**:\\\n    Future work could categorize population into dependent (0–14, 65+) and working-age groups (15–64), supporting economic and healthcare planning.\n",
    "supporting": [
      "Take-home_Ex01_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}